.hero{
    height: 100vh;
    background: linear-gradient(180deg, #fde1ff, #e1ffea22 60%);
    display: flex;

}

.hero-left{
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 20px;
    padding-left: 180px;
    line-height: 1.1;
}

.hero-left h2{
    font-size: 26px;
    font-weight: 600;
    color: #090909;
}

.hero-left p{
    color: #171717;
    font-size: 100px;
    font-weight: 700;
}

.hero-hand-icon{
    display: flex;
    align-items: center;
    gap: 20px;
    margin-bottom: 18px;
}

.hero-hand-icon img{
    width: 105px;
}

.hero-latest-btn{
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 15px;
    width: 310px;
    height: 70px;
    border-radius: 75px;
    margin-top: 30px;
    background: #ff4141;
    color: white;
    font-size: 22px;
    font-weight: 500;
}

.hero-right{
    flex: 1;
    display: flex;
    justify-content: center;
    align-items: center;
}

.hero-slide-image {
    width: 500px;
    height: auto;
    transition: opacity 1s ease-in-out;
    opacity: 1;
    animation: fade 1s ease-in-out;
}

@keyframes fade {
    from { opacity: 0; }
    to { opacity: 1; }
}

.gift-stage {
    position: relative;
    width: min(520px, 90%);
    height: 520px;
    display: flex;
    align-items: flex-end;
    justify-content: center;
    perspective: 1000px;            /* enables 3D depth */
    pointer-events: none;           /* stage is decorative; left text stays interactive */
}

.gift-anim-cycle {
    position: relative;
    width: 100%;
    height: 100%;
    transform-style: preserve-3d;
}

/* The box assembly */
.gift-box {
    position: absolute;
    bottom: 40px;        /* raises the box a bit for visual balance */
    left: 50%;
    transform: translateX(-50%);
    width: 360px;
    height: 220px;       /* overall area containing base+lid */
    pointer-events: none;
}

/* Box base (the container) */
.box-base {
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 320px;
    height: 180px;
    background:
        linear-gradient(180deg, #ff8aa1 0%, #ff6f85 60%, #ff516b 100%);
    border: 3px solid #d04457;
    border-radius: 12px;
    box-shadow:
        0 6px 20px rgba(0,0,0,0.15),
        inset 0 6px 12px rgba(255,255,255,0.35);
    animation: boxBounce 400ms ease-out both;
    z-index: 2;
}

/* Decorative shadow ellipse under the box */
.box-shadow {
    position: absolute;
    bottom: -6px;
    left: 50%;
    transform: translateX(-50%);
    width: 340px;
    height: 22px;
    background: radial-gradient(ellipse at center, rgba(0,0,0,0.25), rgba(0,0,0,0) 70%);
    border-radius: 50%;
    filter: blur(2px);
    pointer-events: none;
     z-index: 1; 
}

.box-inner-front {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  bottom: 0;
  width: 320px;           /* match .box-base width */
  height: 110px;          /* how much of the inside to cover */
  background: linear-gradient(180deg, #e54b60 0%, #d04457 100%);
  border-radius: 0 0 12px 12px;
  box-shadow: inset 0 8px 12px rgba(0,0,0,0.15);
  pointer-events: none;
  z-index: 3;             /* sits in front of product, behind lid */
}

/* Box lid (flips open) */
.box-lid {
    position: absolute;
    bottom: 178px; /* sits right above the base */
    left: 50%;
    transform: translateX(-50%) rotateX(0deg);
    transform-origin: 50% 100%;   /* hinge at back edge */
    width: 340px;
    height: 40px;
    background:
        linear-gradient(180deg, #ffd2da 0%, #ffb3c0 100%);
    border: 3px solid #d04457;
    border-bottom: none;
    border-radius: 12px 12px 0 0;
    box-shadow:
        0 8px 20px rgba(0,0,0,0.12),
        inset 0 -6px 10px rgba(255,255,255,0.35);
    animation: lidOpen 500ms ease-out 400ms both;
    z-index: 4;
}

/* Product slot: starts "inside" the box and rises out */
.product-slot {
    position: absolute;
    left: 50%;
    bottom: 60px;                 /* start from inside the base */
    transform: translateX(-50%) translateY(60px);
    transform-style: preserve-3d;
     z-index: 1;
    transform-style: preserve-3d;
    animation:
        productRise 700ms ease-out 800ms both,
        productFloat 2000ms ease-in-out 1600ms infinite alternate;
    
}

/* Add gentle spin to the product image after it rises */
.product-slot .hero-slide-img {
    backface-visibility: hidden;
    will-change: transform, opacity;
    transform: rotateY(0deg);
    animation:
        productSpin 3000ms linear 1100ms infinite;
}

/* =================== */
/* Keyframe animations */
/* =================== */

@keyframes boxBounce {
    0%   { transform: translateX(-50%) translateY(-12px) scale(0.98); }
    60%  { transform: translateX(-50%) translateY(0px) scale(1.02); }
    100% { transform: translateX(-50%) translateY(0px) scale(1); }
}

@keyframes lidOpen {
    0%   { transform: translateX(-50%) rotateX(0deg); }
    100% { transform: translateX(-50%) rotateX(-62deg); }
}

@keyframes productRise {
  0%   { transform: translateX(-50%) translateY(60px) translateZ(-60px); opacity: 0; }
  30%  { opacity: 1; }
  100% { transform: translateX(-50%) translateY(-210px) translateZ(0);   opacity: 1; }
}

@keyframes productSpin {
    0%   { transform: rotateY(0deg); }
    100% { transform: rotateY(360deg); }
}

@keyframes productFloat {
    0%   { transform: translateX(-50%) translateY(-210px); }
    100% { transform: translateX(-50%) translateY(-195px); }
}

/* ========================= */
/* Responsiveness + a11y     */
/* ========================= */

@media (max-width: 1024px) {
    .gift-stage { width: min(460px, 90%); height: 480px; }
    .gift-box { width: 320px; height: 200px; }
    .box-base { width: 290px; height: 165px; }
    .box-lid  { width: 310px; bottom: 163px; }
    .box-shadow { width: 300px; }
    .product-slot .hero-slide-img { width: 320px; height: 382px; }
}

@media (max-width: 768px) {
    .hero { flex-direction: column; gap: 16px; height: auto; padding-bottom: 32px; }
    .hero-left { padding-left: 24px; padding-right: 24px; }
    .gift-stage { width: min(420px, 92%); height: 440px; }
    .gift-box { width: 300px; }
    .box-base { width: 270px; height: 158px; }
    .box-lid  { width: 290px; bottom: 156px; }
    .box-shadow { width: 280px; }
    .product-slot .hero-slide-img { width: 300px; height: 358px; }
}

@media (max-width: 480px) {
    .gift-stage { width: min(360px, 95%); height: 400px; }
    .gift-box { width: 260px; }
    .box-base { width: 236px; height: 140px; }
    .box-lid  { width: 250px; bottom: 138px; }
    .box-shadow { width: 240px; }
    .product-slot .hero-slide-img { width: 260px; height: 311px; }
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
    .box-base,
    .box-lid,
    .product-slot,
    .product-slot .hero-slide-img {
        animation: none !important;
        transform: none !important;
    }
}

/* Place near your existing right-side / product-slot styles */

/* Container for the transparent WebGL canvas */
.three-stage {
  position: relative;
  width: 350px;   /* match your image display size */
  height: 418px;  /* match your image display size */
  pointer-events: none;  /* keep hero left content clickable */
  z-index: 1;           /* stays behind .box-inner-front (z-index: 3) and lid (z-index: 4) */
}

/* Make the canvas fill the container and stay transparent */
.three-stage > canvas {
  position: absolute !important;
  inset: 0;
  width: 100% !important;
  height: 100% !important;
  background: transparent !important;
}

/* Optional: small depth boost so it really looks inside the box */
.product-slot {
  transform-style: preserve-3d;
}
